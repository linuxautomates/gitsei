package io.levelops.integrations.jira.client;

import io.levelops.commons.databases.models.database.Integration;
import io.levelops.commons.databases.models.database.Token;
import io.levelops.commons.databases.models.database.tokens.AtlassianConnectJwtToken;
import io.levelops.commons.inventory.InventoryService;
import io.levelops.commons.inventory.InventoryServiceImpl;
import io.levelops.commons.inventory.exceptions.InventoryException;
import io.levelops.commons.inventory.keys.IntegrationKey;
import io.levelops.commons.jackson.DefaultObjectMapper;
import io.levelops.integrations.jira.models.JiraDeploymentType;
import io.levelops.integrations.jira.models.JiraUser;
import okhttp3.OkHttpClient;
import org.junit.Before;
import org.junit.Test;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;

import java.util.List;
import java.util.stream.Collectors;

public class JiraClientFactoryIntegrationTest {
    @Mock
    InventoryService inventoryService;

    @Before
    public void setup() {
        MockitoAnnotations.initMocks(this);
    }

    @Test
    public void testAtlassianConnect() throws InventoryException, JiraClientException {
        JiraClientFactory factory = new JiraClientFactory(
                inventoryService,
                DefaultObjectMapper.get(),
                new OkHttpClient(),
                false,
                10.0
        );

        JiraClient client = factory.buildFromToken("test", Integration.builder()
                        .name("testJiraConnect")
                        .url("https://harness.atlassian.net")
                        .satellite(false)
                        .authentication(Integration.Authentication.ATLASSIAN_CONNECT_JWT)
                        .build(),
                Token.builder()
                        .tokenData(
                                AtlassianConnectJwtToken.builder()
                                        .appKey("com.harness.sei.plugin.jira")
                                        .baseUrl("https://harness.atlassian.net")
                                        .clientKey("f08d579a-efce-3589-a6f1-329a0fb17be2")
                                        .sharedSecret("")
                                        .name("testKey")
                                        .build()
                        )
                        .integrationId("1")
                        .build());
        System.out.println(client.getProjects());
        System.out.println(client.getProject("10000"));
        System.out.println(client.streamBoards().collect(Collectors.toList()));
        var users = client.searchUsers("is asignee in SEI", JiraDeploymentType.CLOUD);
        var emails = users.stream().map(user -> {
            try {
                return client.getUserEmail(user.getAccountId());
            } catch (JiraClientException e) {
                throw new RuntimeException(e);
            }
        }).collect(Collectors.toList());
        System.out.println("Users: " + users);
        System.out.println("Emails: " + emails);
        var accountIds = users.stream().map(JiraUser::getAccountId).collect(Collectors.toList());
        System.out.println("Account ids: " + accountIds);
        var accountIds2 = List.of("712020:77e1bc47-55ec-4f57-9768-050ca7d4b46d", "712020:e9b34686-9e1f-4a36-9336-4a26f634f1ea", "618c0084c23a4f006994dfd6", "619292e4ef18ca0071a33d3a", "Shahar Valiano", "hodaya.gamliel", "61922c23977c5b0072346ca4", "619292d5b0b630006a43cab0", "61f99c7e0d3777006a90f52b", "5e62a014cf54800ce3a06add", "5f77840ab61f66006f10a309", "60f6ffcf9f975e0069ba6d90", "619292d5977c5b007239abd5", "712020:dc37ab2c-2633-4f38-99ae-ab6df4de9e9f", "622b88b559c0740069dcd19b", "712020:19cf7f38-32f0-4be0-98ef-fc595cf4c388", "63c04c1fc52a63dcda837180", "5d9b9f8281ec020c3e165814", "626231a9f70c3a006f1e6b30", "5d6049c4c812c40d27c01ea9", "5e0536360af0d70e911bb453", "5e47256fe7724a0e7262afab", "60398ba421d9bc006879005d", "akash.bhardwaj", "6105b4738c15ca006f486b5d", "5eed1265defde70abc82c974", "624de6a5247a4b006921579e", "Amit Sharma", "628eb8c82b90b90069b56759", "712020:06839dbf-4146-4f56-8ff2-6a98d7d68c1b", "6427216a1273131f2ae3cb8d", "sagnik.de", "633463ac61dbef2805bfddca", "5dcf2791d2d3090dedb0d7c1", "642722ff1273131f2ae3cb9d", "624dbdc07a3f9e006ab678cc", "5d0d7c945977d60c29e1d068", "633339283ac41ebde76bed95", "606f5380bc3c3f006f32c17b", "61e06fbf326554006c7e0fd3", "61806687892c420072d05057", "6231e66b72d9010069e39e7b", "60f2084264911100693a4dac", "712020:b3be966f-6936-4a6e-bdd8-f7dd8914e91e", "62190bd86a5742006a56bdcf", "aniruddha.kale", "712020:ac3d6fab-11ea-41bf-9fb4-ec99602e67b0", "712020:78f86cdb-a9ae-4763-bbd2-017a0d82511b", "712020:063507fa-e422-4da1-a951-3edb02db0cce", "712020:54b979e3-4baa-4a1b-b4b0-de129d3a7793", "712020:700f053b-4b9f-4495-b593-4524fb7d6642", "712020:4c15569c-78af-4f2a-a02b-2eb13422adea", "712020:d3b70745-7b47-4a4c-98e6-36b92f287f51", "712020:daa0b687-c368-4374-81c5-4e8292075440", "712020:efb67e25-4cad-4847-ae28-8ef11cd0e726", "712020:6b1d9e2d-83e5-4832-9fd1-5f95ed55ebf6", "712020:b76822fe-c5fa-4ea4-bcfd-8d4db715c4c2", "712020:25200785-7968-42c1-98db-e0b77d1c08d2", "712020:f946339f-3d4f-4ec1-aa8f-c7e0b653b022", "712020:8162a001-b89a-4dab-80d4-65a6b653924b", "712020:0841460e-e112-4dd3-aac1-0ba2957bb2e5", "712020:12a6b194-e528-4db9-9659-b25815965409", "712020:c064fa31-dea7-46da-beb6-1288ea97c3c8", "63bf551f2a526608c5502b33", "Thanh Tran", "62cdd877dcf59ca4ad014be0", "Arvind Ramasarma", "5deadfb2752c1b0d114f9db3", "712020:47948536-8a92-486c-b6f2-a6f7dab0f890", "61e06fc07aa7ac0070abcc97", "5ce49e0da649ce0dcd81462b", "Thor Taylor", "5ed17aadeb77320c1f8da8b3", "6153d58d99b4b8006a50e2df", "6238243ea2f6400069e9967e", "5fa97a01d74f69007560babf", "5f5a56f70e396800690368e8", "5faeb0e7b45b2e0074b76c57", "60f5931bf026ab007012558c", "62cf0dd7c537f460d4458cd4", "604287af19772401137ea875", "60cbd250deecef006a98bacb", "6296befc2eafc9006eec0529", "5dc9adac500b7d0dfdca8c2a", "712020:bc0c2dab-07d8-4079-83fb-72f52517b447", "5fe11fad208dbf010712fe4e", "557058:3a56cb63-a64c-4692-b28a-630198427625", "614f6625a6f69e006d82c7a7", "6307bb3cf63ba4d04a132507", "5dbb1ebf55b49c0c356205b4", "603ba0d3d4c62100716f9f5e", "5eea77a0868ce30ac4b12417", "60cbc87b758a5d006a0edef9", "6130434f6a4c09006aaed1c9", "6034d24df8c05700706d8fc2", "5fa585ec22f3990076afd7c7", "61d3209a567cb70070c3fda8", "Rishabh Kumar", "624dcdac5f63fd0069b6b413", "6029e9cbc5a0430067be85bf", "Kaushik Macharla", "5fa584bef7b30b006e29563c", "Mirko Lecic", "5eac948906a3eb0b7eeebfcb", "5ca3ccbc10e4f967c30219f8", "5db92c072757660db6141746", "5a84a4165c7a2233512a6f34", "605a1cab9620b5006af261e8", "5f6dcc642626970069aeb4d8", "5d52e47d9ca6120db89955b9", "5bd738f1d0f01e7162be76f7", "5d02b8549e4bc30bc3965da2", "5a832a5889ef572e36a580e2", "5a4bc7cf8f0e862a44917053", "6047aac10b784000691e2f0b", "naveen.rangaswamy", "557058:ada232b5-6383-47cb-9b73-0c83326742ee", "5f6dcc644609300077c91498", "5b0f642dba20a25bfcacf722", "5b836ac199f501590538412c", "5ed17aaeb1df560c073f0dde", "557058:fac7054a-7fc8-47b4-aebb-ca81358a1f8b", "Chakravarthy Tenneti", "6001cdb6f7ea2a0107162656", "5c82daf0fcf5ea723bf4dc13", "5e4b8ea62110470c8da1c9ab", "5eac948aa4c57d0b8bec37a6", "5f025cc7d680320021289c20", "5e7e27e06a8be00c35f26d4f", "5e5d43484d2a000c9115f47e", "Milos Milenovic", "Bojana Milovanovic", "5fc2700b9592df007606d44c", "5e321390fe03e20c9d1dcda8", "5eb32dad9756e40b8493cfb6", "601d705f4e258e006977500b", "5c4b8ce717a8567a2ba8155a", "5bae502c7add096a82319183", "5cf4a84e4e41620f3d9c1280", "Swagat Konchanda", "Abhijith V Mohan", "Michael Armstrong", "5aaa9acdef48102a7b9f0ea6", "557058:22fae7e7-2583-4c1e-939e-5547e761940c", "5b2e4950d85e5b59b0676b04", "5e462be708e2a40c93841cd7", "5d0409d259b0d90c57bdebbb", "5eac948bf235020b84d838f3", "5d02b84f5313720bce855734", "600ca80d58d5a20069472dd8", "Sri Pardha Chidella", "5ea7a6dc9756e40b8449acff", "Prasun Banerjee", "5e14a94885a8c90ecac9d9f5", "5fe80d80f7ea2a0107512352", "6195d095c510bc006b3a9902", "5d0409e3765c560c5d88de5d", "557058:a3307a6c-5e91-4b75-8d6f-55f7a1991903", "5e0e7123bc8ab30e98edee0a", "5c73c2b04b5199464e924eae", "5c34e12ed650366f5316ef02", "5ff0ec92f7ea2a01078dd3f0", "5e4302d55a495e0c91a74a73", "5f1702fafe230000226ff1ca", "5ea491458e58680c1f11c63e", "60e8c68ccf1849006a5cd0ac", "5e212ccdd152ca0c9e19c20f", "5eab6c63a4c57d0b8be542d3", "5e54a0723011ed0c8f8b98b6", "60c5b399c90cb200688eee9d", "5e0129f2b783d60db09ed4ea", "5ffb2340dd5eb50108fb91de", "5eab6c62833be70b7ecfcba0", "5fdcded934847e00694bf2ad", "5ca1aa48bb1ed00ac5e5d061", "6071f2f0c040cd006911e592", "557058:a06853aa-b9a6-4d25-894a-82b52a496aa9", "5eab6c64c112750bab5c0f9a", "5eab6c619ce9ee0b8951c5db", "5ed17ab09286180c3067ac92", "611c984fe05b7b006af1389f", "Will Collins", "61043805627b560068dab0be", "5eeb66600856d00ac364e69a", "61ecfa045a0988006b0e0445", "5fadbb4962584c006b44519f", "5addfd710f8ba42e37d0f08f", "61303dd86e5e1e0071d8ab36", "5ef3c3ae54c8a50ab5b2df2f", "60147f05d04785006870898e", "604b9aca0b784000694cb455", "61e4d7fab134e80070fa1e74", "61e4473d6b1ad90069928c7e", "61d3267985349800739ca279", "60dcc21a2a1e950069cdae3b", "60dd002a285656006a870ba7", "5e0fb09e7a22c90da0c5cbfb", "5f495b673aa35b003f77a538", "5fd9183a1051d10075bf5b76", "620726fcc4e2c9006ae7ec7c", "61924653ef18ca00719f4cbe", "610db5b88c15ca006fa1653b", "61d5ed677aa7ac00703a793d", "62855abeba5c2500682e4168", "Bao Le", "6287d11062e0790069a8829c", "6139a4a9a4f86e0069627be5", "619ea608c510bc006b9a2302", "620edc4fa713ab006813ec23", "6156d007048360006a11b58f", "61806686f485cd006813a7f3", "62e1bc23831f463d28e8f525", "6001b829f7ea2a01071564b0", "6274a6686a38370069df774e", "62c7d99f9763a5e60270c14c", "62842182222d36006fb69949", "61ce041bf63ac800702f37d5", "632b4d589b32cfef93246e18", "5f5be59e189482007d292930", "Raghav Sharma", "613f0eceff23ba00715366ea", "629614cd1a2bdf007094bfd6", "62e02ae44b574e9f2caf90b9", "6259d13a4f1d57006a268f6c", "Radu Jomir", "63c1125756176e219bed44e1", "Parth", "627307d902e1c10069bdb0b2", "610d78497ab143006e486aa4", "6259bb8b5d1e700069b00176", "625724355d1e700069aed3f5", "Alexei Stirbul", "60d8ae2d70941d0069d0decb", "61bd0c14599f18006a5c3b4d", "605e21e76190aa0069edcde9", "60381c98783a4600688c656a", "615784a0c7bea400690a5c45", "5e83b287b39dbf0c11375591", "62eccf2e825fbfbfcff154e6", "622e1f72c3a57b0068ddbf3a", "5f8881690c96130069b3d3c6", "606b0611126db9006ff61605", "5d93304ce610e60dd06008ca", "63333bde3ac41ebde76beea5", "5b541fd71ba8432d193ec531", "Raunak Agrawal", "5e321022fe03e20c9d1dcd60", "712020:e53a4e52-5663-4e41-866d-9cb9b167c6b7", "61e4d6e698cd6100702e9309", "63449b20b380bb46a09082ad", "627c45a381d82e00680c20d9", "62847aed04eb1600683642c4", "62ea2b42c1b3a10ac3aa1af1", "60398a17783a4600689c6a32", "62473cd7f407980070577c84", "627c45a766eb5800697fc661", "62e656deda8620d53391c6a3", "62d4ca03dc9741080af9e85a", "61e0c9a0bce5e00069b82776", "5ce42d90c9167e0d6ea29342", "61327da76b666100692e0257", "641e1637af3b93d8ecf3e225", "63e6363cdb4f715c972546a8", "61b611942900b00071b21b22", "712020:3a78fc3a-e8a9-49bb-a16a-e048ee0788ed", "6287c2afbd640f0068aff653", "6192748d744c4d0069365ccb", "Michael D\'Amour", "619292e59615eb006f58616a", "gal.svirin", "557058:4b70ef7a-9bc5-41f5-93e7-f1e320f8dfad", "619292bc9615eb006f585f97", "5e669d037653310cfe8225a4", "619258fdb0b630006a40cb0f", "Abraham Gutierrez", "628421c1222d36006fb69978", "61921d38b0b630006a3dc236", "619292bafe9f300068cbe2ea", "635247f61cc605b1fd15250d", "623804101c7f6a007047ff77", "623804dfa2f6400069e98f95", "6238a361ee1b5a00702784b1", "6238a6d3bef8a60068c5e9c1", "6238a6f08d8b9c0068b700d6", "6238abeb94742a00683c9261", "607c539881e7b90068004360", "6238a886bef8a60068c5eb22", "6238a5ec761efb0069cc53bc", "5fa5bbe88405b1007797970c", "Dushyant Sharma", "5e79234347dc780c3c656caa", "6115af0aec92ab00704d6028", "62d8e72f751c4f698e03b645", "6322d8d5c7601c8e4abf830d", "61d5ed6790cfd20071164c9f", "624f1702f813eb00692eac0d", "608317ef739dd40069e7aa49", "62f431a948e310e672980faa", "557058:4a1fa0d2-caa7-4b01-a910-4613e9babab1", "5f1f0648e8c4560022265233", "609274a0f6c0960069d0871d", "5ed17aaca04d9c0c2217ad4b", "6346a3dfb391eab61f722188", "60c5b26eb2156100693c4c07", "6238a0ab7910a2007189e088", "5ecc847e8d2e220c25379b4f", "5ed956747c0e780aba46e7af", "62c72573b6357aecd7c7a9d9", "5f809bf0287870006a590cd6", "61bf769249f1950069650331", "6311b23e55b0a9e29f1b1e9d", "63c072d38a7d2f693bf7674d", "629984f1563d380068b32b6a", "61db2075e67ea2006b11bece", "5ebde3b8b882f90bae9d7d71", "632d94c87f85f167779e67d0", "633159d9fedc6169aed6c79e", "632232ce1f3f6665a60459c2", "622246488a4bb60068f33245", "636155e359c794184bcbb77f", "63b46e6e347fae534684a2f6", "609274a1c87b550069ca4765", "Enver Bisevac", "626c1570357b9f006e4de6d0", "clare.wilkinson", "62473d1c7a3f9e006ab3861c", "610d7849e6e6f800712bb3d9", "624dbdc0258562006fa7dcc4", "624e1a7ced4d6b007017acbb", "712020:a35af976-4ec8-4be6-8942-fa2b6c6ec203", "62f4fabb432ef494c8cc7ec2", "61a7fe9ab0b630006a2ccc5d", "633464d6409249995eea4ce2", "5c47fbc4d8bbb7445c0a358d", "63345b9e61dbef2805bfdba9", "63f8e964526117e1514d7e5b", "6014a743a41ea5006a71a428", "6226dcb8a687c5006a617660", "62cd84bd3d382dfc9c5f96ba", "barry.gribben", "61a7fe95c75da800720220cf", "618c00849782530068858219", "61771d87860f78006b1cdd9a", "63615449fe5ff375235b7e7b", "62cd32e010fcc6f7ae3e380d", "633fe4b197148a8301ff6ff1", "635b9e8ce14026a739800493", "62a2d6649f5d480069caf56b", "6095d996eebe78006a939646", "Amit Rozario", "Daniel Ricardez", "5d6049c417bc890d28ef70dd", "633cc6cf140ba0bf651d8ea8", "parnian.zargham", "61771ae1062f4c006998f53a", "625afc5f410206006e98e366", "5d365b122acc2d0c6219bf95", "60fb43d1d5c9290069949dd3", "631927599796033b256dba72", "6224e80f94f7e200690018fa", "60386e53f8c0570070972288", "627ca7be0e2c4900690409c3", "631aec769794410874c7fb22", "6079c18f1d2b250069ab73ef", "6307bb4007b7804d7aa23219", "60c5b39918e9f60071485736", "6224e66e15521d00726c85d2", "6238a1c5761efb0069cc520d", "6238a8819b54ec0068af9365", "62cd9bbb6eba71983721d1e8", "6287d326d9ddcc006e9f9f0b", "6364bf23e14026a73981e483", "6336961a14c6b4b2210e6a6f", "62fce043b582d07a14a85c6d", "61ace7f3ebce470067b9e8ff", "6238a5f21c7f6a0070483865", "62e646b3432ef494c8c8f8c3", "619757bd2278e7006b7964f5", "627c7c720e2c49006903fdee", "603025577fbca20070e2eedc", "628eb9af891ea9006a9ef207", "5fa581038c4efd006f4b6438", "6115ac59fc68c1006963f971", "629da01b9f5d480069c7e2cc", "Georgios Psarakis", "623df79c94742a00683f3f1c", "6238a6d77910a2007189e377", "6104380aeb7aef0069b5bc95", "610469900b454a0068dc33e2", "6389b7a58fd2d2d5f1314118", "629984f09bc7150068cf4cdc", "5b541fd64e8a8f2d60bd2e83", "5c290128dae8a34f82081a50", "Dave Arnold", "5b67e0098091093c1335c018", "5bcd50dfa86b3349680e272f", "5bb9b577f1c86403ff71ab13", "5a8bba35a0fcf7417951614f", "5a651ba39de499405b3bd963", "557058:50c28651-1734-4463-80ce-82afaf5f8f89", "557058:b712f640-b03d-4519-949c-7c2fec20e001", "5c4900a166bdb27a2ae8c18e", "5a53b217409b5e1fb448787f", "5a2586f4e894cb132188e1b1", "5d0409e12686680c5ae1828e", "5e90da56be041a0b78f4aff2", "5c9c1214a063736c5f65be69", "5c9908a8520ecd756a46dca2", "5c7457f5f2f4366be3ccd66c", "Duc Nguyen", "557058:508d3d02-15a9-4862-9b95-f12fdcb74cb2", "5d10675d9f176f0c922822a9", "5c9c1214b370c368f491333c", "5e305e495209db0c9ceebfc7", "5c902288522feb2d3e110da5", "5e0fb701cbf1830daa9cb978", "5a53a946897a4d2059aed488", "5d3f849a0c3d830c304d33f9", "5e18eb81d5227b0e9d988330", "5e0fb77f62aed90daa48bf8e", "5b7468e6e72afd064c8a54c5", "5e0fb6963ebba10e937f236e", "Haribabu Padmanaban", "5d322e4d6637260c19b7bec9", "5a09da346e4dc0106d9885b5", "5eac948c9ce9ee0b8958bb2f", "Lazar Matovic", "5dc08fa9a693ee0df50f9393", "Vikas Singh", "5f22e1a6c9c094001c6d2486", "5de5888505eece0d0920c420", "5ffb23cb692b7901103d579d", "6047aac243eac6006f70c354", "5f089fe94c7d53001a98dda1", "6047aabfd7f56e007194bd16", "60381c9a8ff09800717a1fe0", "60381c996bc3f30069ad27b9", "Ankush Shaw", "5ac257520fcea7426c43b2d2", "5eda931c50d41d0b93abb4da", "603027b2db8be900692668b0", "5e754c370a6a810c48b2cdc5", "5c78470ac84f002ff6093904", "5f6d8047cf5999006ad5b522", "5c82e0f667adf441eda55323", "Madhusudan Khoradiya", "5bb56577a2a4aa05e1347b77", "5b8426f3fe42212a796217fa", "5dd31e15b63a210fb4b69fa9", "5d56f299f7b8660da9c2cb6d", "Shashanka Panuganti", "557058:be2361fe-6b35-4995-a11f-db637b015938", "5cff344e5d548b0c51d6abb1", "6001cdb6692b79011076883b", "5d76a393b2698f0da457a46e", "5e73125b71096f0c4e0429db", "5e5ef75535753d0cdaaa6136", "5e57e904a17f930c9b95f8f2", "600caaafe2a135006994f4e5", "5e8426a67dd96b0c157790ac", "5d3266909d2a1b0c797f4df6", "shashidhar.gani", "5dd626c0b6b3230eefb7ac85", "5bc4283465a8021356ab8a3b", "60148bd647a954006910d860", "604b9203b2ea120115c56a85", "5d91c09275c86a0dcda2f754", "5e0d9c96efa19b0e976afdd1", "5ea48d86e401710c34a63516", "605b313e2ce4be0071eddea4", "5f8882eb06d16d006faef6f4", "60381c9cac6e4e0069f943d8", "604e536645a3bb0068d65dc8", "603864d1f0327400688650ac", "5eab6c5fc112750bab5c0f72", "5f11cf877e510c001557bfde", "557058:0a314b4e-db87-47d6-9881-ce9965e1b382", "5f93ba269c31840076035e1e", "60259ce77db80e006a2e0935", "Bhuvan Kapoor", "5eea779b4784510aca71ba25", "61f6e0f6530d2a00713bf373", "5f11cb759d9a120029646060", "61e85c8fb134e8007021a5d3", "5d9bb4a01027a00dc5088c30", "61303dd82aa28000688cbf66", "608317f51417e2006a107bbf", "624c6ffcf813eb00692d60ef", "60381c97f8c057007093d436", "61771ae2327da40069129411", "5e212e60ac570b0caa864dc1", "5b8cc0d7eddb082b8f12655f", "Ashley Stevens", "622e1d2a1dcf800070e7ba4e", "626c5648357b9f006e4e1ae1", "5d0409e6b287090c5cbf031f", "Lawrence Wilfred", "5ee3c618dd6ecb0ab529bedd", "62c6ae1eb6357aecd7c7829b", "5d0d4454ac9cfa0bc6eed836", "629984f11c69c7006ac62e7d", "6262334fefc8a5006a56ef5d", "62579c1a3bf0f00070176745", "6290a95b1a437e0070443c79", "Meenakshi Vasudevan", "5cd80a2ef433c20ff112bf70", "629618521648f2006961e765", "62126862708417006bc71fd2", "Gaurav Nayyar", "62b55e21b8e499e567eac05e", "611018a3fc68c10069260e08", "5fc3d0ed4a09640069512e40", "5eea7b1f4784510aca71d037", "Anubhaw Srivastava", "61e4d76d7ae0dc006a84a789", "5fc1d3323b4f590068c582bf", "623375e662dc1e0068038087", "Robert Mendal", "627ced0e839542006968c2f7", "5dca44b3ecba190c63569327", "61db20767aa7ac00706fc25d", "5f34c1f41ac29c00459ef6aa", "60fb9b93a248f0006abcce02", "6054f7e7311e270068f29d73", "60b92c7324eedc006d4e6299", "61c8b0bff63ac80070f904ce", "5f61916ccacd830077676118", "5a53ad9dc92b8622a234da08", "5e9f41834e1a4b0c137ac030", "5bf4094395a1f935f7dba3c9", "5e7915ae47dc780c3c6518d4", "5a218dddcc10f25b8c13660b", "Marko Barjaktarovic", "5f495daf8d89e30046c496df", "Vikas Naiyar", "5e39cc88ae5f880cbad800ab", "602c45f5c5a0430067d2d763", "609edfc12009f1006856eabd", "60832bc8b892750072c0efc5", "Aleksandar Zivkovic", "61f593346fa12a00707dfd42", "629fb484122dfd006905bcc4", "Katherine Enos", "6195c1542278e7006b677db4", "5eb5d2a8a39bb50bb11d5fe2", "Pooja Singhal", "60a136ab47ba02006ff692e0", "5f809bf13fe0760069b57a0b", "Nofar Bluestein", "5f0f2fbf591bbc001ba1e37c", "610438040b454a0068da2535", "Yunus Mulla", "632b4d548b75455be453e1cd", "61bf786da54af9006999ecb7", "Aman Singh", "603fcaba20122b0068846efc", "60a136ac2009f1006874bf8a", "5b3a70c54303e12dbe3ec785", "5e875b7a32b0710c1f921bc8", "62b368f399eafa602d8949bf", "62a2ce435b9785006fd7e9cc", "5ed17aafdacd410c1fa6d098", "61e4f19b78cb690071338107", "63086cdf5a1dda769e3748e2", "5f88732ce357dd006e8c1f15", "5b02f25488605c21e2f1dd0c", "62337592442e0e0069ee07a9", "62472cbb2e101c006a8f51dc", "605a9b5a2c761b0069fd5128", "Hemant Khandelwal", "5e8df0d39252d10b8a994a8d", "5fd62f5e642089014112a66f", "62c2c25ba152cf973643ec68", "6240ae3b699649006ae4bb9c", "61b6133521f381006709c531", "60a9ea80e49d11006923e45d", "6195d096b0b630006a69125b", "62c6ad035f45f3d3b7b769ea", "Shashank", "5c327a1113a8bb0b10395ee1", "61f58b02632452006b9b5b3e", "557058:92c79db6-5db9-454d-ba65-51e0aaa9fdf6", "nana.xu", "62049a2a733407006754fe5a", "6335c49207a27ebeff16f069", "6262db5ff70c3a006f1ed603", "621266ef8e1bf000692f226d", "5ba28b78fd93d62f756d4760", "5dc9b5d46e25cc0dde8b9813", "5e9dfd0da747380c18991803", "625998f3eee0a9006ab9e1b8", "5f888423b2964c006e792ece", "604b936ececcdd006a45672b", "Satish Kumar Singh", "630d8e516856bdd60a9e5c76", "ashish", "Bogdan Catana", "62cd9c6dc4c3be001fb51079", "6095d9b6d353800068b8e773", "Charlie Crow", "60398a0e4623c60069e06e0b", "61d5eebd326554006c0cc170", "5f9c62eac9b15a0078c4e6c4", "George Georgiev", "5c0108fa0ecb4f1b2ffa88f6", "5e738c6724d7570c343afcba", "5e7e27dc2e3fce0c33eb4cc0", "557058:8a3070f8-01ef-4ba8-a1e7-97274a23d15f", "5ff0e6bb6420890141db50be", "5e7e27dfea2da70c2d4e5c79", "61771ae3209722007111f47e", "5e2b5ba4d5bb640e7137d232", "712020:667b4c21-8463-491d-90f2-e12ff7021c42", "60b14a42c5196d007009f72c", "6426f29bc35660c269bd4357", "6352c7b1d66d8108a122c1cd", "Shaun Murphy", "5ff0e46091bb2e0108b75d6a", "5ddd91dcd129c00cd95ec75e", "62a376cd932059006f91ff7b", "5f5be59a110ce0006913bf81", "5e32184a3bdc3a0ca55f63c4", "6238a410bef8a60068c5e8ad", "61672c9ebfa2c1006b39ab72", "5ce18a90f433c20ff112ff75", "61a7fe5af2415000721abc2c", "5e3af61e57660a0e56fe87b8", "6254659b4f1d57006a240b6a", "62ba394afbc1f7c647b7c5c7", "62bcd1f7228c59d8da1a4fbf", "624f4017f3824d006a5d5162", "61ace7c0c510bc006b311b49", "6095d99733a94100710f6990", "5ce9e41027454f0fe458433c", "619256a6977c5b0072368ca7", "6297973b1a2bdf0070956aec", "62579bd9fdb60b006928e625", "5eea79f4b04ccf0aae6faeec", "5fa584be42ab3b006e9fdbe8", "61ecf857aeaacb0072d79cb8", "5f63d201b9fcc1007743637a", "6238a3a350bb2b0070b503a6", "624380337a3f9e006ab1577a", "5e321517ccbf660cb39b09c9", "60cbc87a8f2cc100695067d7", "61acea896d002b006b194f69", "62c2c42c1bb561c33794d2d3", "62bed1f8f53d91673869f2fc", "620976cf1d088700694cbcb1", "5fd06d704d2179006e9c5785", "5d5c1f3441ab580c26f89223", "61927651b0b630006a425b2b", "62f435bda41ecbd0ba1a2f9c", "Diptiman Adak", "624315fc45ece00069c89aa2", "5f88829bb2964c006e792241", "62fe0fdb0268bddf1c920814", "624de6f6fd5e450070486936", "6311b54d3e578bb3b5fee817", "712020:5611400f-7380-4b7e-a03c-c7842b92c888", "63c112582341bff4fff6faa2", "712020:b445cdad-b299-49f6-a5c7-d5b4afecfaaa", "5ecc8691ea79750c25686b72", "63c673b9e28ec74364cbeb30", "622e1d2a5b6d710070a00bfb", "5eea79f8868ce30ac4b132d9", "5e47234c2a59dc0c8fe4ccb8", "6344997ab391eab61f719060", "60c5b26edae56700681facf7", "62f600db32850ea2a32713ef", "5f31a3d9e115420046304b9e", "604b92031f946f0069a7d9f3", "622b8693f1e55c0070f377bf", "627307d5d7fd480068d90dc1", "628421bc82e85d0068f37d56", "62cc171410fcc6f7ae3df0a7", "6303a26a4c25135b9720b053", "60be6582a01e11006ab20499", "637771378fd2d2d5f12cca99", "619292d6ebce4700679e8abf", "5ecc79778d2e220c25375e37", "712020:ba812070-9080-4293-ad52-a91bc4c8e7bd", "63b47cc8159df2c252e878d5", "5bd2767dbae77f4b760f4d08", "5e9a0d3d7c993c0c152fe174", "61bcff887290480068bf9b79", "631926bad8850343ef5a101e", "6290ab021a437e0070443d18", "60259ce8164527007100d945", "6402325ac6e77744a1dda5ca", "61fffaa7d36241006910ed5f", "62e3853b5b8cc5741205b29f", "62828790cc1d15006fa96e71", "5eab73cdacdf9c0b911e72ae", "5ebde1897dab3a0bb475e652", "622e1d2b442e0e0069eba30b", "712020:8b519081-b052-4d5e-ad4b-4269f53b0a70", "5efc9bd37295050bad6cc649", "63c1125656176e219bed44e0", "618c041810bdeb007075243f", "5cef7a69d41cab0fa78dba48", "61b6142aead14400696997d1", "712020:8efecd42-23e2-4648-b640-f0fdf37348d8", "61fa00c89c1d52006928c257", "712020:dd5f0392-e5bd-422f-8328-75806bad8868", "623808f8b75ca8007054eaa0", "Jose Ivan Leon Islas", "62150a19708417006bc832d9", "626ed3ac76b8d3006871bbc7", "Shivam Yadav", "Madhav Bhasin", "63bf551feac4f07e3f3bf9ef", "5d167ecfb7ebec0c5dbca93c", "63c11ab72a526608c5506c06", "63c0a727c52a63dcda837fe7", "63b46e296f068efec8f7ca0d", "Milan Toliya", "63c0a72827c8920a5c02e01a", "63b4ce67159df2c252e89b7e", "63b4d57d8a07cbd184ab8ca2", "712020:99129322-a147-466c-8e38-42acf2a3ff44", "63b4d8392c70aae1e6fb20d0", "63b46e5db790087ed711a6ed", "Milan Sonagra", "63c0a72827c8920a5c02e01b", "63b46e5f347fae534684a2ef", "63b46e66347fae534684a2f2", "63b4cea27cde7bff9d79dce0", "63b4ce6d48b367d78a17bd9a", "63b47b394bc858b303ce7471", "63b46e4eb790087ed711a6e7", "63c0a727c52a63dcda837fe6", "63c0a726df0fa548e8e93e1f", "63b475416f068efec8f7cc6b", "63c0a727eac4f07e3f3c2d6a", "5d0409ce59b0d90c57bdebba", "63b46e56030d706ab0e53334", "63b46e4d159df2c252e8735f", "5bae5001b4bbaa6dd0171347", "5ae78adc8946622c5c3d46d0", "Guna Chandrasekaran", "61eae35beb1fb60071cefa05", "6238a89e4a57610068e5990c", "626b54c552310b00680191a9", "62473eb34fe01d006ba7c82d", "631aecd662fe1e6eac6e6407", "63e63992790148a1809926a3", "62a04c7be318a50069381e10", "62946b5c658d58006887676a", "5c010d8e9d4db33a1f657904", "5df1271abf265f0e3bbcd21f", "712020:529175aa-d2a3-4152-92b4-f7331626a18a", "624dbdc08678e900705ed508", "6196c6232278e7006b73a1c2", "5d256fd0afbc2a0c25110a23", "712020:50586c0d-9d07-4b3a-badc-86d27956043d", "62bcd1f0118b20bee2bc600b", "63f950e3e76fc61320f65127", "62f5fa195111209f4fe15cea", "629a3be8cd636500697e0b33", "6238a0fb94742a00683c8ca3", "6238a1c6ee1b5a00702783d3", "632b4c30a84c7f79c384735e", "712020:5e3981db-61bd-4dcc-8068-ae7262d845f7", "63e639ce1b13d42998e6b70c", "6281ed5b62e0790069a4c99d", "5c9bbf89aa4d3768fa74e7f3", "61d320d99ee70a006852f8e8", "6174d55f25f313007091843b", "623e79124a57610068e8849e", "623df4a850bb2b0070b7b028", "6174d51cbcb5740068521cb2", "61800daf702bd0006a35a543", "62472338ad6b7e006aa61d4c", "5d5cb1bd88d5680d37099655", "62ba37a6fa171a27239cc55c", "5dbfe61770f1ea0df76982ab", "6307be23ec02b5f28b635c00", "557058:38378191-7e64-4a2b-99f1-7f5f392d53c2", "557058:83595b2f-13e7-4a21-9159-d22e65ee8988", "Vaibhav Tulsyan", "5d0409d7d2389e0bc0d2515a", "5a0d073ef635a848c674f6f5", "5bae501503d0c07091dc3cb1", "5a09da3587c3eb1913c4d5c8", "5a2586f65ba27e1b07ea4d76", "5a567885c92b8622a2350e14", "Toli Kuznets", "5b541fd79f58262d6638347f", "5b9fd7dac5ff9570992f6da8", "5cb679914064460e407ec221", "5c2e4c967d0c1a2f0111db77", "5bae502dc2de0766ad2177f2", "557058:a6ac2a81-6184-4a3e-a025-f3f9fc11b7a1", "5c61e5d68bcc9e016aeeb514", "5d6eb0a111b31c0db4560ea8", "5cfacf4fa1d0930f39e191e5", "5c2e4c96a217aa69bce53b18", "5af9c688a0e6e6142d1f9d2f", "6311b23a55b0a9e29f1b1e9a", "62e3857c4913d0b73489b7cb", "5d0409d4f032b30bc642ec0a", "Fernando Dourado", "6134f84f39121200703e100a", "61db2075e67ea2006b11bed7", "Deepak Puthraya", "Tathagat Chaurasiya", "605a9b5c14a23b0069c61a6d", "62ea1f1350bd9783f62b0417", "60d8ad08285656006a4db0be", "628666400dae78006808dbf6", "623e3257d32a94006a65b836", "626c565f494f170070586820", "6237cdb2ee1b5a007027405f", "6307bb3361f04d06813f3261", "622bea1c6a4c4c0070b311b6", "5fc1d200f2df6c0076b0746d", "62f5fac1825fbfbfcff3643d", "619292bbef18ca0071a33b35", "6321a9551f3f6665a6043f4b", "6134f84b11d5e100718713c8", "606145cb95acf8007173b76d", "61a443c16d002b006bba42ee", "6044b6e61f946f006956f709", "6239f2b3a95758006959d42a", "626050e1fd06270069c07b0b", "5ef6132c15483a0ab82ec5a8", "62cbc37e6eba719837215fdf", "61807dc5b9c549006f46bc00", "60cf6a36deecef006ad170fe", "5c57a22c0f8313373e56a974", "62eccb8c1323922c61e2ac64", "63c13c6f157d36f44485356d", "deep.sengupta", "egoldstein", "6287cfef0dae78006809c91d", "5eea78cbdefde70abc70c3bf", "5ced83fb174b730f1d0b737a", "6240ae3b4fe01d006ba49a92", "5aae86a2795d0d2a5cd92bb1", "5dfb9a43336e9e0cad16f6e7", "Andrei Bezdedeanu", "5ced7b4eb457f80f23adab6c", "5c7406a8b980e54d9e7c597b", "557058:2f5e7524-c8ea-4f31-94a4-40315beb88b0", "John Steven", "602d60e939ed51006a522aa0", "5d14ca29e207030bd3c6c173", "5cf90d2623e75a0e7d27e6e2", "5cbe2e5d4c57cb0e4a2634e9", "aaron wise", "5cb72cc42a2c9a0e46787cef", "557058:e3ef04f0-8b97-40fd-8c8b-11f77d2550f7", "5e863099db49780c14a50498", "5e989f541302f40c0eee278d", "61923d07c75da8007214e3d2", "5a0dc39e7f265137c1112163", "60481b2b3ab18c0068d02395", "5fb418f3f2df6c00763e504d", "557058:731485f2-c995-4b13-a6b7-60713439d6cb", "5c2a3adfd650366f5316c89e", "60109392c8c36c006963e86f", "5f6b9198473df200705ce798", "5f43cda63aa35b003f4af8c0", "619189edd2e64c00717dd8b9", "5d6ec9906c94420d96fa945c", "619276cec510bc006b13e5b6", "5f495db3d3796e004681cbd9", "557058:ae8b0a3c-a74e-4a5e-b33c-956ff4b8310d", "61230cf23fe26c00692b133e", "5bb9b5776df86a14bb636218", "6259d2d90630bd0070778619", "61e0716368926d0068d64638", "6115ac5a4e8d8d006907c251", "62a376cd8783e7006f635ad2", "Kimberly Fields", "5c4906864c070827c2a1d0c8", "Vivek Bansal", "5ea48d82313afc0c1f2d32dc", "6077a71952404d0070b2f439", "619291d43618cd006f0937fb", "62ba38a4118b20bee2bb30dc", "6196c623fe9f300068fcd997", "632b4d4bb2e3c5ad0fa21cb6", "5ddbfe1fcdc2d20d053742c3", "61fd6575c6bd1a00691ecef6", "6044b6ebe19f9100691c3856", "61806686f485cd006813a7f0", "61929285657a0500700f16ee", "6115ac580b454a00689475d8", "62e384d14b574e9f2cb03244", "joseph.sentongo", "619189bed5986c006a4b9c0d", "61929286ebce4700679e8716", "627307d56a38370069de60b6", "619291d3d2e64c007189a546", "60a83d8a391e56006eba3fd8", "6191894dd2e64c00717dd38a", "62c2a5c69763a5e6026ef2f6", "619291d39615eb006f5854a8", "620e9b0bf4d8af0070fecde0", "6192788f3618cd006f07f925", "62bf0483d752af0e54edf33a", "635875f801c2ff842c1815e4", "5ba295e6d67b472fa0ec45e6", "5d0409dfe7f1d70c57937658", "557058:f58131cb-b67d-43c7-b30d-6b58d40bd077", "61927e3fc75da80072184780", "619291d4c15977006af8ce41", "5e340bd6e127810e828775e4", "5d9cdc71e881600dc8fcc038", "61929285c15977006af8d64a", "61f58d1b1bda70006e34e59c", "5bb27f6c9fe3ec2b7f558370", "Sergey Bobrov", "5f495db8347294003e876d31", "5f495cbfd3796e004681c472", "5dc9c640d2d3090dedb0542c", "5f3694bbd0884f00497e0b8d", "60dcfcf6fe89c60069801669", "6001f8ac208dbf01070d0b4c", "Venkat Padmanabhan", "6073a20153cc0200695d4d3f", "5d0409e875c5770bc65c8d14", "5d4dc28bae82fd0c52e297fe", "5fb7ecda0d2f61006f2ae49a", "6054f6a090f2880070181cce", "6287cfc7d9ddcc006e9f9c1e", "557058:a01b4872-0086-4bc3-903e-23f26637afa2", "557058:3d707368-8e5d-464d-9eed-29b47ee001b6", "622244419c3cce00694c7315", "62b9e924ed036549273c8b8a", "60b9472066df79007082ca32", "61bd04b49e8a370068c19fcf", "5dca008153136d0de3b33196", "601d6eafcd564b0068681054", "6079bfd895f6fc006ac51394", "62da51ff7654479e0609b5c1", "608c529df55824007041b386", "557058:1aab227d-5e88-4eee-9b34-797bad3972f7", "557058:3ec27745-ebc6-48f7-b2e9-ec12c07cfebe", "63b47541b790087ed711a990", "5eea78d11b849f0ac0a32960", "5a34ab64e973bb380bdc4660", "5f46800afcaf93003b02c071", "631103a73310c2492b5a6ec1", "63b46e488a07cbd184ab641a", "6054f6a1f180c300676dbb1a", "Rohit Reddy", "Shubham Maheshwari", "612c494df0bf520069239825", "627cdb5e9311100068a0eb13", "603027ae1bf1ce006bd00122", "5dae14c21741650c3b1e6478", "636d461b2f8b3c8f116b83df", "Umesh Kumar", "Alexandru Casian", "61eadf9c85a2d6007074e1de", "5d0409dcd2389e0bc0d2515b", "63ca49da4ea03a3b2f2fa29e", "61f25b5e58ce4f00689b4b53", "61928070d5986c006a5695a9", "62c7237540923988ba0b172f", "5e875b7bcb85aa0c1471748c", "5ea111f61a2cf60c0fa4399d", "5eab6c609ce9ee0b8951c5d3", "Juhi Agrawal", "6287cff0d9ddcc006e9f9c3e", "62ac065cbfade2006967096e", "600b5159ea0e64006b83498b", "616715fc9cdb930072fe0ed1", "5eda80244ff3210b882493b9", "5ce18a92ee37080febefdf49", "60d51147d5dde80071a874f9", "62a04e879248fe00691242a6", "5c98d78b203e134514cf72cc", "712020:c81649fe-4add-44ea-b84e-5e2b08db8bdb", "Raison Dsouza", "6274b1e8d7fd480068da2a39", "Prasad Ravella", "5ced680f3b8abb0fc31a563c", "5dd4e97faf96bc0efbe538ea", "5e3217213bdc3a0ca55f63a5", "5ff9d543b66825010ed27008", "Manish Jaiswal", "623e7226a2f6400069ecb980", "61e4f19b93885f0069482a91", "5cb5280e9eec1011988bb9d1", "623ce210761efb0069ce86db", "619292bcb43d5b006a859fb3", "608451bc9c4625006b643c8c", "613e474054762c006918bd06", "6079bfd6994473006837b3cb", "62f4d50396eb272011aa9f92", "Gaurav Nanda", "61b616bff19b53006a6bb5a3", "625e3bd69e7c190069e6794a", "60caab7d2bd21400690f61ae", "5fd06ea4a237f7006ffa9489", "6154be2999b4b8006a5c1ad2", "620ea8f807f51e006944affb", "557058:05a79c2a-79e2-4e95-8f64-27ef7f1d5123", "61b6142bead14400696997da", "62db3e145eeecd39350a82ea", "6079c175994473006837cb70", "Sanyasi Naidu Annepu", "608c56f8bb0b050070a7c4eb", "6241d7ee699649006ae50c80", "613e47b21370f00069f71331", "xin.shao", "712020:f5240e5a-50d8-4e61-8dd5-fd0409bbc8e6", "63b46e667cde7bff9d79b4f7", "62f43411ec6b328032f3cc03", "62eccb9c32850ea2a325036e", "63b46e76082abdd71bb62d28", "60b92c5146e2780068b966d6", "60a136ab9fd9f300677a8b75", "63b46e627cde7bff9d79b4f3", "6119479eee947000716e687d", "6287cdde82e85d0068f5e1d2", "61e445fc6b1ad900699280fb", "629a46591648f200696423f9", "Anne Meirose", "620e9e22878c2f00729a7adf", "5de568aecdc2d20d0537fd88", "627c47bb6ba8640069cf002c", "5cc21ecdf345850e7270f649");
        var bulkEmails = client.getUserEmailBulk(accountIds);
        var bulkEmails2 = client.getUserEmailBulk(accountIds2);
        System.out.println("Bulk emails: " + bulkEmails);
        System.out.println("Bulk emails 2 : " + bulkEmails2);
    }

    @Test
    public void testWithRealInventoryService() throws InventoryException, JiraClientException {
        InventoryService inventoryService1 = new InventoryServiceImpl("http://localhost:8080", new OkHttpClient(), DefaultObjectMapper.get());
        JiraClientFactory factory = new JiraClientFactory(
                inventoryService1,
                DefaultObjectMapper.get(),
                new OkHttpClient(),
                false,
                10.0
        );

        var c = factory.buildFromInventory(IntegrationKey.builder()
                .tenantId("sidofficial")
                .integrationId("15")
                .build());
        System.out.println(c.getProjects());
    }
}